{"version":3,"sources":["webpack:///./src/lib/repository/in-memory-repository.ts","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/lib/infra/serializer/serializer.ts","webpack:///./src/lib/infra/serializer/card-serializer.ts","webpack:///./src/lib/infra/storage/local-storage.ts","webpack:///./src/vue/util/Repositories.ts","webpack:///./src/lib/entity/note.ts","webpack:///./src/lib/entity/template.ts","webpack:///./src/vue/util/GenkiCards.ts","webpack:///./src/vue/util/TestData.ts","webpack:///./src/lib/entity/deck.ts"],"names":["initialObjects","map","forEach","o","id","find","this","findList","ids","findAll","Object","keys","key","count","length","save","item","saveList","array","i","saveAll","load","loadList","loadAll","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","serializeAll","items","objects","serialize","JSON","parse","stringify","deserializeAll","serializedArray","j","deserialize","serializeType","jsonString","t","obj","__type","name","deserializeType","jsonObject","typemap","objType","Error","noteRepository","templateRepository","baseString","note","template","Serializer","window","localStorage","out","l","push","filter","entries","getItem","setItem","value","removeItem","clear","s","bs","str","InMemoryRepository","cardStorage","SerializingStorageImpl","LocalStorage","cardsLoadedFromStorage","c","lsCard","cardRepository","deck1","slice","lessonSize","deck2","decks","deckRepository","tags","fields","frontKey","backKey","renderLessonFront","card","side","renderLessonBack","renderFront","renderBack","front","back","genkiNotes","english","kanji","reading","BasicCardTemplate","notes","n","Note","cards","deckConfig","DeckConfig","createLesson","getCardsPastDue","w","isReadyToReview","sort","a","compare"],"mappings":"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","file":"js/card~decks~inspect.5e610d96.js","sourcesContent":["import { Entity } from \"@/lib/entity/entity\";\nimport { SynchronousRepository } from \"@/lib/repository/repository\";\n\n/*\n * Implementation of repository that is just in memory. Mostly just used for testing.\n */\nclass InMemoryRepository<T extends Entity> implements SynchronousRepository<T> {\n  private map: { [Key: string]: T } = {};\n\n  constructor(initialObjects: Array<T>) {\n    initialObjects.forEach(o => (this.map[o.id] = o));\n  }\n\n  find(id: string): T {\n    return this.map[id];\n  }\n  findList(ids: string[]): T[] {\n    return ids.map(id => this.map[id]);\n  }\n  findAll(): Array<T> {\n    return Object.keys(this.map).map(key => this.map[key]);\n  }\n  count(): number {\n    return Object.keys(this.map).length;\n  }\n\n  save(item: T): void {\n    this.map[item.id] = item;\n  }\n  saveList(array: T[]): void {\n    array.forEach(i => this.save(i));\n  }\n  saveAll(): void {\n    // no-op\n  }\n\n  load(id: string): T {\n    //technically this should no-op\n    return this.map[id];\n  }\n  loadList(ids: string[]): T[] {\n    //this should also probably no-op\n    return ids.map(id => this.map[id]);\n  }\n  loadAll(): void {\n    // No-op\n  }\n}\n\nexport { InMemoryRepository };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*\n  Note: maybe this should be refactored into two classes:\n\n  interface EntityBaseSerializer<T extends Entity> {\n    serialize(item: T): string;\n    deserialize(jsonString: string): T;\n  }\n\n  class Serializer<T extends Entity> {\n    constructor(private serializer: EntityBaseSerializer<T>, private typeMap: object) {};\n    \n    serializeAll(items: Array<T>);\n    ...\n  }\n*/\n\n/*\n * Serializers have logic for how to convert the object from the logical model (in memory) to the\n * physical model (stored somewhere).\n */\n\nexport abstract class Serializer<T extends object> {\n  abstract serialize(item: T): string;\n  abstract deserialize(jsonString: string): T;\n\n  serializeAll(items: Array<T>): string {\n    // This is pretty ineffecient...\n    const objects = items.map(i => this.serialize(i)).map(o => JSON.parse(o));\n    return JSON.stringify(objects);\n  }\n\n  deserializeAll(serializedArray: string): Array<T> {\n    const objects: Array<T> = JSON.parse(serializedArray);\n    return objects.map(o => JSON.stringify(o)).map(j => this.deserialize(j));\n  }\n\n  serializeType(jsonString: string, t: object): string {\n    const obj = JSON.parse(jsonString);\n    obj.__type = t.constructor.name; //weird gotcha here.\n    return JSON.stringify(obj);\n  }\n\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  deserializeType(jsonObject: any, typemap: any): T {\n    if (\"__type\" in jsonObject) {\n      const objType = typemap[jsonObject.__type];\n      if (objType == null) {\n        throw Error(\"Unable to deserialize type\");\n      }\n      Object.setPrototypeOf(jsonObject, objType);\n      delete jsonObject.__type; // weird gotcha here. Not sure about this, but it'll work for now\n      return jsonObject;\n    }\n    return jsonObject;\n  }\n}\n","import { Serializer } from \"@/lib/infra/serializer/serializer\";\n\nimport { Card } from \"@/lib/entity/card\";\nimport { Note } from \"@/lib/entity/note\";\nimport { Template } from \"@/lib/entity/template\";\nimport { Repository } from \"@/lib/repository/repository\";\n\nclass CardSerializer extends Serializer<Card> {\n  constructor(\n    private noteRepository: Repository<Note>,\n    private templateRepository: Repository<Template>\n  ) {\n    super();\n  }\n\n  serialize(item: Card): string {\n    //convert to a basic json object\n    const baseString = JSON.stringify(item);\n    const obj = JSON.parse(baseString);\n\n    //Overwrite specific fields with their IDs\n    obj.note = item.note.id;\n    obj.template = item.template.id;\n\n    return JSON.stringify(obj);\n  }\n\n  deserialize(jsonString: string): Card {\n    const obj = JSON.parse(jsonString);\n\n    //Convert serialized IDs into actual objects\n    obj.note = this.noteRepository.find(obj.note);\n    obj.template = this.templateRepository.find(obj.template);\n\n    //hacks required to set the class of the object\n    //other serializers will need to be updated if I add methods to those classes\n    //unit tests will catch it if/when I make the breaking change\n    Object.setPrototypeOf(obj, Card.prototype);\n\n    return obj;\n  }\n}\n\nexport { CardSerializer };\n","import { Nullable } from \"@/lib/types\";\n\nimport { BaseStorage } from \"@/lib/infra/storage/storage\";\n\nclass LocalStorage implements BaseStorage {\n  length(): number {\n    // returns number of objects in localStorage\n    return window.localStorage.length;\n  }\n  key(i: number): Nullable<string> {\n    return window.localStorage.key(i); // returns ith key in storage\n  }\n  keys(): Array<string> {\n    // returns all objects in storage\n    const out = [];\n    const l = this.length();\n    for (let i = 0; i < l; i++) {\n      out.push(window.localStorage.key(i));\n    }\n    return out.filter(key => key != null).map(key => key!!);\n  }\n  entries(): Array<{ key: Nullable<string> }> {\n    return this.keys().map(key => {\n      return { key: this.getItem(key) };\n    });\n  }\n  setItem(key: string, value: string): void {\n    window.localStorage.setItem(key, value);\n  }\n  getItem(key: string): Nullable<string> {\n    return window.localStorage.getItem(key);\n  }\n  removeItem(key: string): void {\n    window.localStorage.removeItem(key);\n  }\n  clear(): void {\n    window.localStorage.clear;\n  }\n}\n\nexport { LocalStorage };\n","import { InMemoryRepository } from \"@/lib/repository/in-memory-repository\";\n\nimport { Note } from \"@/lib/entity/note\";\nimport { Template } from \"@/lib/entity/template\";\nimport { Deck } from \"@/lib/entity/deck\";\nimport { Card } from \"@/lib/entity/card\";\n\nimport { notes, template, cards } from \"./TestData\";\nimport { SerializingStorage, BaseStorage } from \"@/lib/infra/storage/storage\";\nimport { Serializer } from \"@/lib/infra/serializer/serializer\";\nimport { Nullable } from \"@/lib/types\";\nimport { CardSerializer } from \"@/lib/infra/serializer/card-serializer\";\nimport { LocalStorage } from \"@/lib/infra/storage/local-storage\";\n\nclass SerializingStorageImpl<T extends object>\n  implements SerializingStorage<T> {\n  constructor(private s: Serializer<T>, private bs: BaseStorage) {}\n\n  setItem(key: string, value: T): void {\n    const str = this.s.serialize(value);\n    this.bs.setItem(key, str);\n  }\n\n  getItem(key: string): Nullable<T> {\n    const str = this.bs.getItem(key);\n    if (!str) {\n      return null;\n    }\n    return this.s.deserialize(str);\n  }\n}\n\nconst noteRepository = new InMemoryRepository<Note>(notes);\nconst templateRepository = new InMemoryRepository<Template>([template]);\nconst cardStorage = new SerializingStorageImpl(\n  new CardSerializer(noteRepository, templateRepository),\n  new LocalStorage()\n);\n\nconst cardsLoadedFromStorage = cards.map(c => {\n  const lsCard = cardStorage.getItem(c.id);\n  if (lsCard) {\n    return lsCard;\n  }\n  return c;\n});\n\nconst cardRepository = new InMemoryRepository<Card>(cardsLoadedFromStorage);\n\nconst deck1 = new Deck(\n  \"deck1\",\n  cardsLoadedFromStorage.slice(0, cardsLoadedFromStorage.length / 2),\n  {\n    lessonSize: 10\n  }\n);\nconst deck2 = new Deck(\n  \"deck2\",\n  cardsLoadedFromStorage.slice(\n    cardsLoadedFromStorage.length / 2 + 1,\n    cardsLoadedFromStorage.length\n  ),\n  {\n    lessonSize: 10\n  }\n);\nconst decks = [deck1, deck2];\n\nconst deckRepository = new InMemoryRepository<Deck>(decks);\n\nexport {\n  noteRepository,\n  templateRepository,\n  deckRepository,\n  cardRepository,\n  cardStorage,\n  decks\n};\n","interface Fields {\n  [key: string]: string;\n}\n\n/*\n  The Note class represents a concept. Data about the concept is stored in the fields.\n  \n  An example note representing \"to go/行く\" could be:\n  {\n    id: \"iku_jp\",\n    fields: {\n      eng: \"to go\",\n      jp_romaji: \"iku\",\n      jp_kana: \"いく\",\n      jp_kanji: \"行く\"\n    },\n    tags: [\"verb\", \"genki1\", \"genki_chapter2\"]\n  }\n  \n  A card is created from a note (data) and a template (rendering logic)\n  From the note and the applicable templates, it would be simple to create two cards using the same note, one going from eng->jp, and one going from jp->eng. \n*/\nclass Note {\n  constructor(\n    readonly id: string, // unique identifier for the note\n    readonly tags: Array<string>, // array of tags\n    readonly fields: Fields // key/value map of fields for the note\n  ) {}\n}\n\nexport { Note };\n","import { Card } from \"@/lib/entity/card\";\n\ntype html = string; //not very useful, but makes the types read a bit better\n\n/*\n * A template controls how to display the frontside and backside of a flashcard.\n *\n * The template controls what fields to display on the card's note, and the styling.\n * It actually has a bit of logic (so there can be error checking if needed) and outputs rendered html.\n *\n * The rendered html is rendered on the front end as unescaped html, so if I want to be secure I need to escape\n * some of the output in the render functions (e.g. escape the data in the card/note)\n * This is not a priority right now though.\n */\ninterface Template {\n  readonly id: string;\n  renderLessonFront(card: Card): html;\n  renderLessonBack(card: Card): html;\n  renderFront(card: Card): html;\n  renderBack(card: Card): html;\n}\n\nclass BasicCardTemplate implements Template {\n  constructor(\n    readonly id: string,\n    readonly frontKey: string,\n    readonly backKey: string\n  ) {}\n\n  renderLessonFront(card: Card): html {\n    const side = card.note.fields[this.frontKey];\n    return `<span>${side}</span>`;\n  }\n  renderLessonBack(card: Card): html {\n    const side = card.note.fields[this.backKey];\n    return `<span>${side}</span>`;\n  }\n  renderFront(card: Card): html {\n    const side = card.note.fields[this.frontKey];\n    return `<span style=\"font-size: 3em;\">${side}</span>`;\n  }\n  renderBack(card: Card): html {\n    const front = card.note.fields[this.frontKey];\n    const back = card.note.fields[this.backKey];\n    return `\n    <span>\n      <span style=\"font-size: 3em;\">${back}</span>\n      <hr/>\n      <span style=\"font-size: 1.5em;\">${front}</span>  \n    </span>\n    `;\n  }\n}\n\nexport { Template, BasicCardTemplate };\n","const genkiNotes = [\n  {\n    fields: {\n      english: \"um...\",\n      kanji: \"あの…\",\n      reading: \"あの…\"\n    },\n    id: \"444a7a2c-db4a-4f22-9796-4ae877319266\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"now\",\n      kanji: \"今\",\n      reading: \"今[いま]\"\n    },\n    id: \"bf814289-319f-4c34-afd6-9e5b6add8b5f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"English (language)\",\n      kanji: \"英語\",\n      reading: \"英語[えいご]\"\n    },\n    id: \"ed630360-a34c-4fbb-89f4-718cb9f222be\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"student\",\n      kanji: \"学生\",\n      reading: \"学生[がくせい]\"\n    },\n    id: \"0ac304c2-2d68-4b40-9935-38c059e95b11\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"language\",\n      kanji: \"〜語\",\n      reading: \"〜 語[ご]\"\n    },\n    id: \"45f76b75-02ff-4f8f-a443-0bedd13a8ede\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"high school\",\n      kanji: \"高校\",\n      reading: \"高校[こうこう]\"\n    },\n    id: \"000386ac-20f1-4476-9e36-3f9f391d2caf\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"P.M.\",\n      kanji: \"午後\",\n      reading: \"午後[ごご]\"\n    },\n    id: \"44615d4f-985d-4b77-a1f1-78e3f1ad45b5\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"A.M.\",\n      kanji: \"午前\",\n      reading: \"午前[ごぜん]\"\n    },\n    id: \"909079ad-406b-449b-9f5e-32fc0d6a24b2\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"...years old\",\n      kanji: \"〜歳\",\n      reading: \"〜 歳[さい]\"\n    },\n    id: \"afed8749-a225-4e81-b99b-292b66c2dc22\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Mr./Ms....\",\n      kanji: \"〜さん\",\n      reading: \"〜さん\"\n    },\n    id: \"c3e011a5-d591-43aa-afe2-c58fea4d6797\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"o'clock\",\n      kanji: \"〜時\",\n      reading: \"〜 時[じ]\"\n    },\n    id: \"05ec0756-45fa-4cb2-9b6e-790720207d54\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"~ people\",\n      kanji: \"〜人\",\n      reading: \"〜 人[じん]\"\n    },\n    id: \"1fd59da4-91f7-44bc-90a0-3686e082a6d1\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"teacher; Professor ...\",\n      kanji: \"先生\",\n      reading: \"先生[せんせい]\"\n    },\n    id: \"dcbbfb8a-d29a-499a-9e92-e9fcfc9ed889\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"major\",\n      kanji: \"専門\",\n      reading: \"専門[せんもん]\"\n    },\n    id: \"d4925e26-cdf3-4a1b-9ea9-1ec98b98dfff\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"That's right.\",\n      kanji: \"そうです\",\n      reading: \"そうです\"\n    },\n    id: \"83892e0a-b703-4671-8ff2-eb466d520f2f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"college; university\",\n      kanji: \"大学\",\n      reading: \"大学[だいがく]\"\n    },\n    id: \"6106fef5-3705-41b9-b79a-32e09c6ff814\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"telephone\",\n      kanji: \"電話\",\n      reading: \"電話[でんわ]\"\n    },\n    id: \"a734c6ab-339c-419e-b64a-f120eb396a67\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"friend\",\n      kanji: \"友達\",\n      reading: \"友達[ともだち]\"\n    },\n    id: \"7dcf1748-1ce2-4e6c-83fe-92c697453eb3\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"name\",\n      kanji: \"名前\",\n      reading: \"名前[なまえ]\"\n    },\n    id: \"d5c88f3d-44b9-44ce-b116-06351d804187\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"what\",\n      kanji: \"何\",\n      reading: \"何[なに]\"\n    },\n    id: \"c11e5ccd-884f-4e04-87a1-9894c334b07b\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Japan\",\n      kanji: \"日本\",\n      reading: \"日本[にっぽん]\"\n    },\n    id: \"705d73d9-d8c3-4dbc-9390-dd4218c6cdbb\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"...year student\",\n      kanji: \"〜年生\",\n      reading: \"〜 年生[ねんせい]\"\n    },\n    id: \"6f928021-756f-4abb-8c08-0ed8a0ea230f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"yes\",\n      kanji: \"はい\",\n      reading: \"はい\"\n    },\n    id: \"d7d1198b-7e1d-45ae-99ad-7fc16fd1ab4b\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"half\",\n      kanji: \"半\",\n      reading: \"半[はん]\"\n    },\n    id: \"57e226f1-cee4-4d96-aa21-6357ff77885a\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"number\",\n      kanji: \"番号\",\n      reading: \"番号[ばんごう]\"\n    },\n    id: \"b7be12c2-e1be-4e08-8fc7-361b9059d64a\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"international student\",\n      kanji: \"留学生\",\n      reading: \"留学生[りゅうがくせい]\"\n    },\n    id: \"a80cb18a-13f3-43d0-a657-01692e1a6c97\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"I\",\n      kanji: \"私\",\n      reading: \"私[わたし]\"\n    },\n    id: \"ded181df-980f-403a-91a1-4479e99dc839\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"U.S.A.\",\n      kanji: \"アメリカ\",\n      reading: \"アメリカ\"\n    },\n    id: \"775c61a0-ce69-4500-980c-cb9c13792070\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Britain\",\n      kanji: \"イギリス\",\n      reading: \"イギリス\"\n    },\n    id: \"7ae84b95-f596-4af4-af22-252b974c0857\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Australia\",\n      kanji: \"オーストラリア\",\n      reading: \"オーストラリア\"\n    },\n    id: \"c4d9f236-0474-4fb9-98a3-b319fa1c0fed\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Korea\",\n      kanji: \"韓国\",\n      reading: \"韓国[かんこく]\"\n    },\n    id: \"bb3fb07b-ee3e-45d0-8f36-4f3bcaf9fce1\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Sweden\",\n      kanji: \"スウェーデン\",\n      reading: \"スウェーデン\"\n    },\n    id: \"18dc6e63-7e7b-495e-ba12-ce672a1851ed\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"China\",\n      kanji: \"中国\",\n      reading: \"中国[ちゅうごく]\"\n    },\n    id: \"75809a36-90b5-4571-88c2-33aacce51dd8\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"science\",\n      kanji: \"科学\",\n      reading: \"科学[かがく]\"\n    },\n    id: \"81a26057-825e-424c-b26b-58e4b98ce8d8\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"Asian studies\",\n      kanji: \"アジア研究\",\n      reading: \"アジア 研究[けんきゅう]\"\n    },\n    id: \"5524758e-d18c-4c85-816d-7b73b1c1c052\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"international relations\",\n      kanji: \"国際関係\",\n      reading: \"国際[こくさい] 関係[かんけい]\"\n    },\n    id: \"f89f7b41-ade8-4183-bb91-51c26763d244\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"computer\",\n      kanji: \"コンピューター\",\n      reading: \"コンピューター\"\n    },\n    id: \"ef4ab1f2-1cf0-45ee-a3fe-f8faea521c6d\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"anthropology\",\n      kanji: \"人類学\",\n      reading: \"人類[じんるい] 学[がく]\"\n    },\n    id: \"5bd83ba5-dd9e-4913-b294-83589b369269\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"politics\",\n      kanji: \"政治\",\n      reading: \"政治[せいじ]\"\n    },\n    id: \"a86f0500-b8e8-4919-a575-6b03f85eaf80\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"business\",\n      kanji: \"ビジネス\",\n      reading: \"ビジネス\"\n    },\n    id: \"ab96cc02-c461-4c4a-8590-9c937798dc09\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"literature\",\n      kanji: \"文学\",\n      reading: \"文学[ぶんがく]\"\n    },\n    id: \"07efba2f-0ce2-4861-abf2-24d0d70f2aec\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"history\",\n      kanji: \"歴史\",\n      reading: \"歴史[れきし]\"\n    },\n    id: \"d9bb4dc6-c79e-45b4-8043-0fbec31ffad0\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"job; work; occupation\",\n      kanji: \"仕事\",\n      reading: \"仕事[しごと]\"\n    },\n    id: \"fdef3760-0cbc-44fd-aa84-743aac2274d4\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"doctor\",\n      kanji: \"医者\",\n      reading: \"医者[いしゃ]\"\n    },\n    id: \"0dd08dbb-511d-4eb2-ad87-0a28b960017e\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"office worker\",\n      kanji: \"会社員\",\n      reading: \"会社[かいしゃ] 員[いん]\"\n    },\n    id: \"a5612638-f27a-4922-b757-8120ad9d0b5d\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"high school student\",\n      kanji: \"高校生\",\n      reading: \"高校生[こうこうせい]\"\n    },\n    id: \"2f615095-bc0f-480f-a5cf-7f8fc4444080\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"housewife\",\n      kanji: \"主婦\",\n      reading: \"主婦[しゅふ]\"\n    },\n    id: \"d65a7445-4ae8-4c67-93c5-b89d57d6fe91\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"graduate student\",\n      kanji: \"大学院生\",\n      reading: \"大学院生[だいがくいんせい]\"\n    },\n    id: \"598db310-6f2e-4045-ad4a-a5eb2cfabbd6\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"college student\",\n      kanji: \"大学生\",\n      reading: \"大学生[だいがくせい]\"\n    },\n    id: \"b9e736a9-4411-48b9-9712-0d875f626f58\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"lawyer\",\n      kanji: \"弁護士\",\n      reading: \"弁護士[べんごし]\"\n    },\n    id: \"107ffcf6-1113-45a9-a608-f0931ebd50ca\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"mother\",\n      kanji: \"お母さん\",\n      reading: \"お 母[かあ]さん\"\n    },\n    id: \"bea7cce2-fa7a-4ec2-8beb-ee0e29bd39a7\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"father\",\n      kanji: \"お父さん\",\n      reading: \"お 父[とう]さん\"\n    },\n    id: \"782a5bce-7b82-4a79-a76d-da0e266b6c2a\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"older sister\",\n      kanji: \"お姉さん\",\n      reading: \"お 姉[ねえ]さん\"\n    },\n    id: \"14c1ac96-960a-4081-890d-978ba021299c\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"older brother\",\n      kanji: \"お兄さん\",\n      reading: \"お 兄[にい]さん\"\n    },\n    id: \"c0231207-7f7a-4e45-96a9-9684ec695879\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"younger sister\",\n      kanji: \"妹\",\n      reading: \"妹[いもうと]\"\n    },\n    id: \"cd8009a9-10b1-451f-b753-85c14f1f22a7\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"(my) younger brother\",\n      kanji: \"弟\",\n      reading: \"弟[おとうと]\"\n    },\n    id: \"1436b3c1-d529-4a80-a31c-ba78ccca8f8d\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"one year old\",\n      kanji: \"一歳\",\n      reading: \"一歳[いっさい]\"\n    },\n    id: \"eccd5017-b1ea-417e-907c-af47c1fdb039\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"one minute\",\n      kanji: \"一分\",\n      reading: \"一分[いっぷん]\"\n    },\n    id: \"5eaea103-953d-4c30-9131-8d54707ca362\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"nine years old\",\n      kanji: \"九歳\",\n      reading: \"九歳[きゅうさい]\"\n    },\n    id: \"ec5dbaa6-b828-4831-80ff-31b1c225554e\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"nine minutes\",\n      kanji: \"九分\",\n      reading: \"九分[きゅうふん]\"\n    },\n    id: \"6d3c9aad-522e-4fa2-9c5b-4cdad9689f82\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"nine o'clock\",\n      kanji: \"九時\",\n      reading: \"九時[くじ]\"\n    },\n    id: \"d3b248d1-e38c-429d-a969-73ffa12b857f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"five years old\",\n      kanji: \"五歳\",\n      reading: \"五歳[ごさい]\"\n    },\n    id: \"7f54e75c-73b8-467d-948e-76ea4a7e7af6\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"five o'clock\",\n      kanji: \"五時\",\n      reading: \"五時[ごじ]\"\n    },\n    id: \"4c724747-82a8-4437-8855-682abc35d369\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"five minutes\",\n      kanji: \"五分\",\n      reading: \"五分[ごふん]\"\n    },\n    id: \"2b475000-1ba9-406c-bf35-f0952efb5b27\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"three years old\",\n      kanji: \"三歳\",\n      reading: \"三歳[さんさい]\"\n    },\n    id: \"c8f20ddb-8347-425a-b4c5-88503b70e4ba\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"three o'clock\",\n      kanji: \"三時\",\n      reading: \"三時[さんじ]\"\n    },\n    id: \"2c93a66e-0495-4d35-8dcc-27522cf4f1d3\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"thirty minutes\",\n      kanji: \"三十分\",\n      reading: \"三十分[さんじゅっぷん]\"\n    },\n    id: \"94e35894-ea64-47dd-8d43-944c2fc51213\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"three minutes\",\n      kanji: \"三分\",\n      reading: \"三分[さんぷん]\"\n    },\n    id: \"08d9ef03-762b-457d-820e-8b0bfd6302c4\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"seven o'clock\",\n      kanji: \"七時\",\n      reading: \"七時[しちじ]\"\n    },\n    id: \"7374794f-4cd2-4bbd-849b-8d5b12067d08\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eleven o'clock\",\n      kanji: \"十一時\",\n      reading: \"十一時[じゅういちじ]\"\n    },\n    id: \"803c14ab-ee38-4df2-8676-95eff5b26191\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eleven years old\",\n      kanji: \"十一歳\",\n      reading: \"十一歳[じゅういっさい]\"\n    },\n    id: \"94eb4c40-7b8e-4816-9717-1bf3d1bbb4ba\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eleven minutes\",\n      kanji: \"十一分\",\n      reading: \"十一分[じゅういっぷん]\"\n    },\n    id: \"6517bd48-83da-4f7f-8936-b5f9f737e08a\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"nineteen minutes\",\n      kanji: \"十九分\",\n      reading: \"十九分[じゅうきゅうふん]\"\n    },\n    id: \"93e1364f-c5ae-4e39-aa25-c09dfc864a0d\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"fifteen minutes\",\n      kanji: \"十五分\",\n      reading: \"十五分[じゅうごふん]\"\n    },\n    id: \"de3eb4a4-fbad-48c7-9d03-78c987aa4a95\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"thirteen minutes\",\n      kanji: \"十三分\",\n      reading: \"十三分[じゅうさんぷん]\"\n    },\n    id: \"d0562104-7581-4df4-a3b2-c9a9b645977b\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"ten o'clock\",\n      kanji: \"十時\",\n      reading: \"十時[じゅうじ]\"\n    },\n    id: \"aea45bf2-490a-483e-bb36-269d581f0636\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"seventeen minutes\",\n      kanji: \"十七分\",\n      reading: \"十七分[じゅうななふん]\"\n    },\n    id: \"58407be0-9872-4852-9b41-8448f90b3827\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"twelve o'clock\",\n      kanji: \"十二時\",\n      reading: \"十二時[じゅうにじ]\"\n    },\n    id: \"514a17f9-ca7a-4c76-b004-9d0ba7137004\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"twelve minutes\",\n      kanji: \"十二分\",\n      reading: \"十二分[じゅうにふん]\"\n    },\n    id: \"8208ca70-204c-4071-9237-44b642774808\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eighteen minutes\",\n      kanji: \"十八分\",\n      reading: \"十八分[じゅうはっぷん]\"\n    },\n    id: \"5f232b35-4927-45c0-8292-f5c080df6b28\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"fourteen minutes\",\n      kanji: \"十四分\",\n      reading: \"十四分[じゅうよんぷん]\"\n    },\n    id: \"8541de4b-cfad-4693-9d2f-ef67b62a575b\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"sixteen minutes\",\n      kanji: \"十六分\",\n      reading: \"十六分[じゅうろっぷん]\"\n    },\n    id: \"f3f0e619-330b-48ab-a833-3fa154863524\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"ten years old\",\n      kanji: \"十歳\",\n      reading: \"十歳[じゅっさい]\"\n    },\n    id: \"a3c28340-b9a5-4c1b-b190-979c34ec29f8\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"ten minutes\",\n      kanji: \"十分\",\n      reading: \"十分[じゅっぷん]\"\n    },\n    id: \"150d1fcd-1b8b-4781-9752-10cc511bfba6\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"seven years old\",\n      kanji: \"七歳\",\n      reading: \"七歳[ななさい]\"\n    },\n    id: \"c79648d8-977e-4c25-8c9a-19ede5f95f35\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"seven minutes\",\n      kanji: \"七分\",\n      reading: \"七分[ななふん]\"\n    },\n    id: \"976bfc4b-9970-453e-82bd-56d3187dc1ea\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"two years old\",\n      kanji: \"二歳\",\n      reading: \"二歳[にさい]\"\n    },\n    id: \"6ff02d36-cfb6-4e38-8c38-a7f2564c60df\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"two o'clock\",\n      kanji: \"二時\",\n      reading: \"二時[にじ]\"\n    },\n    id: \"25fc7c3e-5a2e-4d23-9948-b4b5924b3b7f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"twenty minutes\",\n      kanji: \"二十分\",\n      reading: \"二十分[にじゅっぷん]\"\n    },\n    id: \"aaa90536-61dd-431e-a9a1-505d775e7923\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"two minutes\",\n      kanji: \"二分\",\n      reading: \"二分[にふん]\"\n    },\n    id: \"7d071a69-b607-4e32-84e5-2694b98f1b62\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"twenty years old\",\n      kanji: \"二十歳\",\n      reading: \"二十歳[はたち]\"\n    },\n    id: \"510ec3d7-e01f-458e-9809-33aecd3979fe\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eight o'clock\",\n      kanji: \"八時\",\n      reading: \"八時[はちじ]\"\n    },\n    id: \"38f0e62c-6715-4593-904d-5d39ab5f352e\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eight years old\",\n      kanji: \"八歳\",\n      reading: \"八歳[はっさい]\"\n    },\n    id: \"cf7faafb-e8a5-4ca3-8804-72d8ba282db9\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"eight minutes\",\n      kanji: \"八分\",\n      reading: \"八分[はっぷん]\"\n    },\n    id: \"87cf0b03-4c20-410f-bb1f-3341f074c1af\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"four o'clock\",\n      kanji: \"四時\",\n      reading: \"四時[よじ]\"\n    },\n    id: \"a1f05b49-3b7c-4963-9461-e47a0b321fe7\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"four years old\",\n      kanji: \"四歳\",\n      reading: \"四歳[よんさい]\"\n    },\n    id: \"e2104086-c563-42b7-ad65-229f7d4f127f\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"four minutes\",\n      kanji: \"四分\",\n      reading: \"四分[よんぷん]\"\n    },\n    id: \"bd12636f-6b18-45ae-9704-e84c08021d82\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"six years old\",\n      kanji: \"六歳\",\n      reading: \"六歳[ろくさい]\"\n    },\n    id: \"263a103c-0b5d-45b5-9ba0-bcb24e21d261\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"six o'clock\",\n      kanji: \"六時\",\n      reading: \"六時[ろくじ]\"\n    },\n    id: \"f958126b-086a-4ef7-ad85-6a5a9e8e9de4\",\n    tags: [\"Genki\", \"Genki_1\"]\n  },\n  {\n    fields: {\n      english: \"six minutes\",\n      kanji: \"六分\",\n      reading: \"六分[ろっぷん]\"\n    },\n    id: \"0d944e49-06b0-4d2f-9f56-7a3276b2a7fd\",\n    tags: [\"Genki\", \"Genki_1\"]\n  }\n];\n\nexport { genkiNotes };\n","/* eslint-disable @typescript-eslint/camelcase */\n\nimport { Note } from \"@/lib/entity/note\";\nimport { BasicCardTemplate } from \"@/lib/entity/template\";\nimport { Card } from \"@/lib/entity/card\";\nimport { genkiNotes } from \"./GenkiCards\"; //change this to GenkiCardsFull if you only need a subset\n\nconst template = new BasicCardTemplate(\"template_id\", \"kanji\", \"english\");\nconst notes = genkiNotes.map(n => {\n  return new Note(n.id, n.tags, n.fields);\n});\nconst cards = notes.map(n => {\n  return new Card(n, template);\n});\n\nexport { cards, notes, template };\n","import { Card } from \"@/lib/entity/card\";\nimport { Lesson } from \"@/lib/value-objects/lesson\";\n\n/*\n * This class has configuration for the deck.\n */\nclass DeckConfig {\n  lessonSize = 50;\n}\n\n/*\n * A deck is a collection of cards. It represents some grouping of flashcards.\n * A deck is responsible for creating a lesson - which is a single review session. For example, if a deck has 200 cards, it may create a review session of 20 cards.\n * It should pick some new cards and also some cards that have already been learned, but need to be reviewed.\n *\n * Decks are best used to hold broad categories of cards, don't make a lot of small decks specific to each topic (you'll end up reviewing cards in a specific order)\n */\nclass Deck {\n  constructor(\n    readonly id: string,\n    readonly cards: Array<Card> = [],\n    readonly deckConfig: DeckConfig = new DeckConfig()\n  ) {}\n\n  createLesson(): Lesson {\n    // TODO: this current returns all passed due cards, but will eventually need to be changed to return a\n    // mix of cards to review and new cards to learn.\n    return new Lesson(\n      this.getCardsPastDue().slice(0, this.deckConfig.lessonSize)\n    );\n  }\n\n  getCardsPastDue(): Array<Card> {\n    return this.cards\n      .filter(w => w.isReadyToReview())\n      .sort((a, b) => a.compare(b));\n  }\n}\n\nexport { DeckConfig, Deck };\n"],"sourceRoot":""}